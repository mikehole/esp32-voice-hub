; PlatformIO Project Configuration File
; ESP32 Voice Hub - Waveshare ESP32-S3-Knob-Touch-LCD-1.8

[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Board configuration
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
board_build.flash_mode = qio
board_build.flash_size = 16MB
board_build.partitions = default_16MB.csv

; Enable PSRAM (8MB Octal)
board_build.arduino.memory_type = qio_opi
build_flags = 
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DARDUINO_USB_MODE=1
    ; LVGL config
    -DLV_CONF_INCLUDE_SIMPLE
    -DLV_CONF_PATH=${PROJECT_DIR}/src/lv_conf.h
    ; Display pins (ST77916 QSPI)
    -DLCD_CS=14
    -DLCD_PCLK=13
    -DLCD_DATA0=15
    -DLCD_DATA1=16
    -DLCD_DATA2=17
    -DLCD_DATA3=18
    -DLCD_RST=21
    -DLCD_BL=47
    ; Touch pins (CST816)
    -DTOUCH_SDA=5
    -DTOUCH_SCL=4
    -DTOUCH_INT=6
    -DTOUCH_RST=7

; Monitor
monitor_speed = 115200
upload_speed = 921600

; Upload port (adjust if needed)
; upload_port = COM4

; Libraries
lib_deps = 
    lvgl/lvgl@^8.4.0
    ESP32_Display_Panel
